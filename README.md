#vim

## 🎯 カーソル移動

### 基本移動

| コマンド                  | 説明                         |
| --------------------- | -------------------------- |
| `h` / `j` / `k` / `l` | 左 / 下 / 上 / 右              |
| `w`                   | 次の単語の先頭へ                   |
| `b`                   | 前の単語の先頭へ                   |
| `e`                   | 単語の末尾へ                     |
| `0`                   | 行頭へ移動                      |
| `^`                   | 行頭へ移動（インデント考慮）             |
| `$`                   | 行末へ移動                      |

### ファイル内移動

|コマンド|説明|
|---|---|
|`gg`|ファイルの先頭へ|
|`G`|ファイルの末尾へ|
|`数字G`|指定行へ移動（例: `10G`）|
|`%`|対応する括弧へ移動|

### 行内移動

| コマンド  | 説明           |
| ----- | ------------ |
| `f文字` | 行内で指定文字へ前方移動 |
| `F文字` | 行内で指定文字へ後方移動 |
| `;`   | 次の文字へ（f/F後）  |
| `,`   | 前の文字へ（f/F後）  |

## 📺 画面移動

### スクロール

| コマンド     | 説明            |
| -------- | ------------- |
| `Ctrl-f` | 下へ1画面分        |
| `Ctrl-b` | 上へ1画面分        |
| `Ctrl-d` | 下へ半画面分        |
| `Ctrl-u` | 上へ半画面分        |
| `Ctrl-e` | カーソル固定で下スクロール |
| `Ctrl-y` | カーソル固定で上スクロール |

### 画面位置

| コマンド | 説明        |
| ---- | --------- |
| `H`  | 画面上部へ     |
| `M`  | 画面中央へ     |
| `L`  | 画面下部へ     |
| `zz` | 現在行を画面中央へ |
| `zt` | 現在行を画面上部へ |
| `zb` | 現在行を画面下部へ |

## ✏️ 編集モード

### 挿入

| コマンド | 説明        |
| ---- | --------- |
| `i`  | カーソル位置で挿入 |
| `I`  | 行頭で挿入     |
| `a`  | カーソル後ろで挿入 |
| `A`  | 行末で挿入     |
| `o`  | 下に新規行を挿入  |
| `O`  | 上に新規行を挿入  |

### 削除

| コマンド | 説明                    |
| ---- | --------------------- |
| `x`  | 1文字削除                 |
| `X`  | カーソル前の1文字削除           |
| `dd` | 行削除                   |
| `dw` | 単語削除                  |
| `D`  | カーソル位置から行末まで削除        |
| `C`  | カーソル位置から行末まで削除して挿入モード |

### コピー＆ペースト

| コマンド | 説明               |
| ---- | ---------------- |
| `yy` | 行をコピー（yank）      |
| `yw` | 単語をコピー           |
| `p`  | カーソル後ろに貼り付け（put） |
| `P`  | カーソル前に貼り付け       |

### 選択（ビジュアルモード）

| コマンド     | 説明      |
| -------- | ------- |
| `v`      | 文字単位で選択 |
| `V`      | 行単位で選択  |
| `Ctrl-v` | 矩形選択    |

### その他

| コマンド     | 説明         |
| -------- | ---------- |
| `r文字`    | 1文字置換      |
| `R`      | 置換モード      |
| `u`      | 元に戻す（Undo） |
| `Ctrl-r` | やり直し（Redo） |
| `.`      | 直前の操作を繰り返し |
| `>>`     | インデント追加    |
| `<<`     | インデント削除    |

## 🔍 検索・置換

### 検索

| コマンド    | 説明             |
| ------- | -------------- |
| `/パターン` | 前方検索           |
| `?パターン` | 後方検索           |
| `n`     | 次の検索結果へ        |
| `N`     | 前の検索結果へ        |
| `*`     | カーソル下の単語を検索    |
| `#`     | カーソル下の単語を逆方向検索 |

### 検索設定

| コマンド         | 説明           |
| ------------ | ------------ |
| `:set ic`    | 大文字小文字を区別しない |
| `:set noic`  | 大文字小文字を区別する  |
| `:set hls`   | 検索文字をハイライト   |
| `:set nohls` | ハイライト解除      |

### 置換

| コマンド             | 説明        |
| ---------------- | --------- |
| `:s/old/new/`    | 現在行の最初を置換 |
| `:s/old/new/g`   | 現在行すべてを置換 |
| `:%s/old/new/g`  | ファイル全体を置換 |
| `:%s/old/new/gc` | 確認しながら置換  |

## 💾 ファイル操作

| コマンド           | 説明           |
| -------------- | ------------ |
| `:w`           | 保存           |
| `:w ファイル名`     | 名前を付けて保存     |
| `:q`           | 終了           |
| `:q!`          | 保存せず強制終了     |
| `:wq` または `:x` | 保存して終了       |
| `:e ファイル名`     | ファイルを開く      |
| `:e!`          | 最後に保存した状態に戻す |

## 🖥️ 表示設定

| コマンド         | 説明            |
| ------------ | ------------- |
| `:set nu`    | 行番号表示         |
| `:set nonu`  | 行番号非表示        |
| `:set rnu`   | 相対行番号表示       |
| `:syntax on` | シンタックスハイライト有効 |

## ⚙️ 外部コマンド

| コマンド       | 説明           |
| ---------- | ------------ |
| `:!コマンド`   | 外部コマンド実行     |
| `:r !コマンド` | コマンド出力を挿入    |
| `:w !コマンド` | バッファをコマンドに渡す |

## 🔧 その他便利なコマンド

### ウィンドウ操作

| コマンド                | 説明        |
| ------------------- | --------- |
| `:split` または `:sp`  | 水平分割      |
| `:vsplit` または `:vs` | 垂直分割      |
| `Ctrl-w w`          | ウィンドウ間移動  |
| `Ctrl-w q`          | ウィンドウを閉じる |

### ヘルプ・履歴

| コマンド         | 説明     |
| ------------ | ------ |
| `:help コマンド` | ヘルプ表示  |
| `q:`         | コマンド履歴 |
| `q/`         | 検索履歴   |

## 🌳 nvim-tree（ファイルエクスプローラー）

### 基本操作

| コマンド        | 説明                     |
| ----------- | ---------------------- |
| `Space + e` | ファイルツリーの開閉（トグル）        |
| `q`         | ツリーを閉じる                |
| `?`         | ヘルプを表示（全てのキーマップを確認）    |

### ファイル・フォルダの移動と開く

| コマンド       | 説明                  |
| ---------- | ------------------- |
| `j` / `k`  | 上下移動                |
| `Enter`    | ファイルを開く / フォルダを展開   |
| `o`        | ファイルを開く / フォルダを展開   |
| `Ctrl + v` | ファイルを縦分割で開く         |
| `Ctrl + x` | ファイルを横分割で開く         |
| `Ctrl + t` | ファイルを新しいタブで開く       |

### ファイル・フォルダの操作

| コマンド | 説明                              |
| ---- | ------------------------------- |
| `a`  | 新しいファイル/フォルダを作成（末尾に`/`でフォルダ） |
| `d`  | ファイル/フォルダを削除                   |
| `r`  | ファイル/フォルダの名前を変更                |
| `x`  | ファイル/フォルダをカット                  |
| `c`  | ファイル/フォルダをコピー                  |
| `p`  | ペースト                            |

### 表示切替

| コマンド | 説明                        |
| ---- | ------------------------- |
| `H`  | 隠しファイル（dotfiles）の表示/非表示 |
| `I`  | .gitignoreファイルの表示/非表示    |
| `R`  | ツリーを更新（リフレッシュ）            |
| `W`  | ツリーの幅を折りたたむ               |
| `E`  | ルートフォルダを展開                |

### ナビゲーション

| コマンド | 説明                    |
| ---- | --------------------- |
| `P`  | 親ディレクトリに移動            |
| `K`  | ファイルの最初の兄弟要素に移動       |
| `J`  | ファイルの最後の兄弟要素に移動       |
| `-`  | 親ディレクトリに移動（ツリーをさかのぼる） |

### ウィンドウ間の移動

| コマンド                    | 説明             |
| ----------------------- | -------------- |
| `Ctrl + w + h`          | 左のウィンドウへ       |
| `Ctrl + w + l`          | 右のウィンドウへ       |
| `Ctrl + w + w`          | 次のウィンドウへ順番に移動  |
| `Ctrl + h` / `Ctrl + l` | 左右のウィンドウへ（推奨） |

## 💬 comment-box（コメント装飾）

### 基本コマンド

| コマンド        | 説明              |
| ----------- | --------------- |
| `Space + cb` | 左寄せのボックス        |
| `Space + cc` | 中央寄せのボックス       |
| `Space + ct` | タイトル付きボックス      |
| `Space + cl` | 左寄せライン          |
| `Space + cL` | 中央寄せライン         |
| `Space + cs` | カタログから選択        |
| `Space + cd` | ボックスを削除         |

### 使い方

1. コメントにしたいテキストを選択（ビジュアルモード）
2. または、カーソルをコメントにしたい行に置く
3. 上記のコマンドを実行

## 🔭 Telescope（ファジーファインダー・検索）

### ファイル検索

| コマンド         | 説明                |
| ------------ | ----------------- |
| `Space + ff` | ファイルを検索           |
| `Space + fr` | 最近開いたファイルを検索      |
| `Space + fb` | 開いているバッファを検索      |

### テキスト検索

| コマンド         | 説明                  |
| ------------ | ------------------- |
| `Space + fs` | プロジェクト全体から文字列を検索    |
| `Space + fc` | カーソル下の単語をプロジェクト全体で検索 |
| `Space + /`  | 現在のファイル内を検索         |

### その他

| コマンド         | 説明          |
| ------------ | ----------- |
| `Space + fh` | ヘルプを検索      |
| `Space + fk` | キーマップを検索    |
| `Space + ft` | カラースキームを検索  |

### Telescope内の操作

| コマンド           | 説明          |
| -------------- | ----------- |
| `Ctrl + j/k`   | 上下移動        |
| `Enter`        | 選択          |
| `Esc`          | 閉じる         |
| `Ctrl + c`     | 閉じる         |
| `Ctrl + u/d`   | プレビュー画面スクロール |
| `Ctrl + q`     | quickfixリストに送る |

## 🔄 grug-far（検索・置換）

### 基本コマンド

| コマンド         | 説明                |
| ------------ | ----------------- |
| `Space + sr` | 検索・置換ウィンドウを開く     |
| `Space + sw` | カーソル下の単語で検索       |
| `Space + sf` | 現在のファイルのみで検索・置換   |
| `Space + sr` | 選択したテキストで検索（ビジュアル） |

### grug-far内の操作

| コマンド   | 説明             |
| ------ | -------------- |
| `\r`   | 置換を実行          |
| `\q`   | quickfixリストに送る |
| `\s`   | ロケーションを同期      |
| `\c`   | ウィンドウを閉じる      |
| `\f`   | 結果を更新          |
| `Enter` | ロケーションに移動      |

### 使い方

1. `Space + sr` で検索・置換ウィンドウを開く
2. Search（検索）、Replace（置換）、Files Filter（ファイルパターン）を入力
3. `\r` で置換を実行

## 👁️ glance（定義・参照表示）

### 基本コマンド

| コマンド | 説明      |
| ---- | ------- |
| `gd` | 定義を表示   |
| `gr` | 参照を表示   |
| `gt` | 型定義を表示  |
| `gi` | 実装を表示   |

### glance内の操作

#### 移動

| コマンド              | 説明        |
| ----------------- | --------- |
| `j` / `k`         | 上下移動      |
| `Tab`             | 次のロケーション  |
| `Shift + Tab`     | 前のロケーション  |

#### ジャンプ

| コマンド          | 説明              |
| ------------- | --------------- |
| `Enter` / `o` | 選択した場所にジャンプ     |
| `v`           | 縦分割で開く          |
| `s`           | 横分割で開く          |
| `t`           | 新しいタブで開く        |

#### その他

| コマンド                    | 説明              |
| ----------------------- | --------------- |
| `Ctrl + u` / `Ctrl + d` | プレビューをスクロール     |
| `Space + l`             | プレビューウィンドウにフォーカス |
| `q` / `Q` / `Esc`       | ウィンドウを閉じる       |

### 使い方

1. 関数や変数の上にカーソルを置く
2. `gd`（定義）または`gr`（参照）を押す
3. 表示されたリストから選択してジャンプ

## 📑 barbar（タブバー・バッファ管理）

### バッファ移動

| コマンド          | 説明            |
| ------------- | ------------- |
| `Space + [`   | 前のバッファへ       |
| `Space + ]`   | 次のバッファへ       |
| `Space + 1-9` | 番号でバッファに移動    |
| `Space + 0`   | 最後のバッファへ      |

### バッファを閉じる

| コマンド          | 説明                |
| ------------- | ----------------- |
| `Space + x`   | 現在のバッファを閉じる       |
| `Space + bo`  | 他の全てのバッファを閉じる     |
| `Space + bO`  | ピン留め以外を全て閉じる      |
| `Space + bl`  | 左側のバッファを全て閉じる     |
| `Space + br`  | 右側のバッファを全て閉じる     |
| `Space + bD`  | 強制的にバッファを閉じる      |

### バッファの並び替え

| コマンド         | 説明          |
| ------------ | ----------- |
| `Space + <`  | バッファを左に移動   |
| `Space + >`  | バッファを右に移動   |

### その他

| コマンド         | 説明              |
| ------------ | --------------- |
| `Space + bp` | バッファをピン留め/解除   |
| `Space + bP` | バッファピッカー（選択モード） |
| `Space + bb` | バッファ番号でソート      |
| `Space + bd` | ディレクトリでソート      |
| `Space + be` | 言語（拡張子）でソート     |

## 📝 vim-doge（ドキュメント生成）

### 基本コマンド

| コマンド         | 説明                 |
| ------------ | ------------------ |
| `Space + dg` | ドキュメントコメントを生成      |
| `Space + dc` | 次のTODOへジャンプ        |
| `Space + dC` | 前のTODOへジャンプ        |

### 使い方

1. 関数やクラスの定義の上にカーソルを置く
2. `Space + dg` を押す
3. ドキュメントコメントのテンプレートが生成される
4. `Space + dc` でTODO間をジャンプしながら説明を記入

### サポート言語

JavaScript/TypeScript、Python、PHP、Lua、C/C++、Java、Rust、Ruby、Go、Bashなど

## 🔀 gitsigns（Git操作）

### 変更箇所の移動

| コマンド        | 説明       |
| ----------- | -------- |
| `]h`        | 次の変更箇所へ  |
| `[h`        | 前の変更箇所へ  |

### ステージング操作

| コマンド         | 説明                  |
| ------------ | ------------------- |
| `Space + hs` | ハンク（変更の塊）をステージング   |
| `Space + hS` | ファイル全体をステージング       |
| `Space + hu` | ステージングを取り消す         |

### 変更を元に戻す

| コマンド         | 説明              |
| ------------ | --------------- |
| `Space + hr` | ハンクを元に戻す        |
| `Space + hR` | ファイル全体を元に戻す     |

### 表示・確認

| コマンド         | 説明           |
| ------------ | ------------ |
| `Space + hp` | 変更をプレビュー表示   |
| `Space + hd` | Diffを表示      |
| `Space + hb` | Blame（履歴）を表示 |
| `Space + hB` | インラインBlameのトグル |

### テキストオブジェクト

| コマンド | 説明            |
| ---- | ------------- |
| `ih` | ハンクを選択（ビジュアル） |

### よく使うワークフロー

1. ファイルを編集（変更が自動で表示される）
2. `]h` で変更箇所をジャンプして確認
3. `Space + hp` で詳細を確認
4. `Space + hs` で必要な部分だけステージング
5. ターミナルで `git commit`

## ⚡ vim-fugitive（Git全体のワークフロー）

### 基本コマンド

| コマンド          | 説明                |
| ------------- | ----------------- |
| `Space + gs`  | Git status表示      |
| `Space + gc`  | Git commit        |
| `Space + gp`  | Git push          |
| `Space + gP`  | Git pull          |
| `Space + gb`  | Git branch一覧      |
| `Space + gco` | Git checkout      |
| `Space + gl`  | Git log           |
| `Space + gbl` | Git blame（詳細版）    |

### Diff表示

| コマンド          | 説明              |
| ------------- | --------------- |
| `Space + gdf` | Git diff 垂直分割   |
| `Space + gdh` | Git diff 水平分割   |
| `Space + gdm` | Git diff 3-way merge（コンフリクト解決用） |

### Gitコマンド実行

| コマンド                           | 説明                |
| ------------------------------ | ----------------- |
| `:Git [command]`               | 任意のGitコマンドを実行     |
| `:Git checkout -b [branch]`    | 新しいブランチを作成        |
| `:Git merge [branch]`          | ブランチをマージ          |
| `:Git log`                     | コミット履歴を表示         |
| `:Git branch`                  | ブランチ一覧を表示         |

### Git statusウィンドウ内の操作

| コマンド     | 説明                  |
| -------- | ------------------- |
| `s`      | ファイルをステージング         |
| `u`      | ファイルをアンステージング       |
| `-`      | ステージング/アンステージングを切替  |
| `=`      | ファイルのdiffを表示         |
| `dd`     | diffを垂直分割表示          |
| `dv`     | diffを水平分割表示          |
| `cc`     | コミット                |
| `ca`     | コミット修正（amend）        |
| `ce`     | コミット修正（メッセージ変更なし）   |
| `cw`     | コミットメッセージを書き換え      |
| `Enter`  | ファイルを開く             |
| `o`      | 新しいウィンドウでファイルを開く    |
| `g?`     | ヘルプを表示              |
| `q`      | 閉じる                 |

### 3-way merge操作（コンフリクト解決）

マージコンフリクト時に`Space + gdm`を実行すると3分割表示:
- **左**: Target（現在のブランチ = HEAD）
- **中央**: Working（作業中のファイル、編集可能）
- **右**: Merge（マージしようとしているブランチ）

| コマンド            | 説明               |
| --------------- | ---------------- |
| `:diffget //2`  | 左側(HEAD)の変更を取得   |
| `:diffget //3`  | 右側(Merge)の変更を取得  |
| `:w`            | 保存               |
| `:only`         | Diffを閉じる         |

### 便利な操作

#### 全ファイルを一括ステージング
1. `:Git`でstatus画面を開く
2. `gg`で先頭に移動
3. `V`でビジュアルモード
4. `G`で最後まで選択
5. `s`で全てステージング

#### ハンク単位とファイル単位の使い分け
- **細かい編集**: gitsignsで`Space + hs`（ハンク単位）
- **まとめてコミット**: fugitiveで`s`（ファイル単位）

### 使い分け

- **gitsigns**: 編集中の細かい変更管理（ハンク単位）
- **fugitive**: Git全体の操作（コミット、プッシュ、ブランチ管理）

### 参考
https://wolfbash.hateblo.jp/entry/2017/08/25/121711
